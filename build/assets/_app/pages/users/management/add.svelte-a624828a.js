var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{S as n,i as r,s as o,j as c,m as u,o as f,v as i,r as m,w as $,z as p,e as h,k as d,l as v,c as g,a as b,d as y,n as w,b as k,f as x,B as j,u as O,D as S,E as N,K as B,H as E,t as I,g as P,I as A,J as T,L as U}from"../../../chunks/vendor-483ca6b6.js";import{s as _}from"../../../chunks/auth-c13ad024.js";import{c as q}from"../../../chunks/_columns-4962c75d.js";import{B as C}from"../../../chunks/store-97111950.js";import{B as D}from"../../../chunks/Back-7e1bfb8e.js";import{C as V,S as z}from"../../../chunks/Spinner-460fa24f.js";import{S as F}from"../../../chunks/Select-2b3a6ae9.js";import{m as H}from"../../../chunks/store-b327666d.js";import{I as J}from"../../../chunks/Input-ac9b94d3.js";import{S as K}from"../../../chunks/Section-69710e66.js";import"../../../chunks/store-a8f0f898.js";function L(e,t,a){const l=e.slice();return l[7]=t[a],l[8]=t,l[9]=a,l}function M(e){let t,a;return t=new V({props:{$$slots:{default:[G]},$$scope:{ctx:e}}}),{c(){c(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,l){f(t,e,l),a=!0},p(e,a){const l={};1024&a&&(l.$$scope={dirty:a,ctx:e}),t.$set(l)},i(e){a||(i(t.$$.fragment,e),a=!0)},o(e){m(t.$$.fragment,e),a=!1},d(e){$(t,e)}}}function R(e){let t,a,l,s,n,r,o=Object.keys(e[0]),p=[];for(let c=0;c<o.length;c+=1)p[c]=X(L(e,o,c));const v=e=>m(p[e],1,1,(()=>{p[e]=null}));return l=new C({props:{type:"submit",$$slots:{default:[Y]},$$scope:{ctx:e}}}),{c(){t=h("form");for(let e=0;e<p.length;e+=1)p[e].c();a=d(),c(l.$$.fragment),this.h()},l(e){t=g(e,"FORM",{class:!0});var s=b(t);for(let t=0;t<p.length;t+=1)p[t].l(s);a=w(s),u(l.$$.fragment,s),s.forEach(y),this.h()},h(){k(t,"class","flex flex-col mt-[24px] space-y-[16px] max-w-[500px] w-full mx-auto")},m(o,c){x(o,t,c);for(let e=0;e<p.length;e+=1)p[e].m(t,null);S(t,a),f(l,t,null),s=!0,n||(r=N(t,"submit",B(e[3])),n=!0)},p(e,s){if(5&s){let l;for(o=Object.keys(e[0]),l=0;l<o.length;l+=1){const n=L(e,o,l);p[l]?(p[l].p(n,s),i(p[l],1)):(p[l]=X(n),p[l].c(),i(p[l],1),p[l].m(t,a))}for(j(),l=o.length;l<p.length;l+=1)v(l);O()}const n={};1024&s&&(n.$$scope={dirty:s,ctx:e}),l.$set(n)},i(e){if(!s){for(let e=0;e<o.length;e+=1)i(p[e]);i(l.$$.fragment,e),s=!0}},o(e){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)m(p[t]);m(l.$$.fragment,e),s=!1},d(e){e&&y(t),E(p,e),$(l),n=!1,r()}}}function G(e){let t,a;return t=new z({}),{c(){c(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,l){f(t,e,l),a=!0},i(e){a||(i(t.$$.fragment,e),a=!0)},o(e){m(t.$$.fragment,e),a=!1},d(e){$(t,e)}}}function Q(e){let t,a,l;function s(t){e[5](t,e[7])}let n={label:e[0][e[7]].label,multiple:e[0][e[7]].multiple,placeholder:e[0][e[7]].placeholder,options:e[2][e[7]]};return void 0!==e[0][e[7]].value&&(n.value=e[0][e[7]].value),t=new F({props:n}),A.push((()=>T(t,"value",s))),{c(){c(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){f(t,e,a),l=!0},p(l,s){e=l;const n={};1&s&&(n.label=e[0][e[7]].label),1&s&&(n.multiple=e[0][e[7]].multiple),1&s&&(n.placeholder=e[0][e[7]].placeholder),5&s&&(n.options=e[2][e[7]]),!a&&1&s&&(a=!0,n.value=e[0][e[7]].value,U((()=>a=!1))),t.$set(n)},i(e){l||(i(t.$$.fragment,e),l=!0)},o(e){m(t.$$.fragment,e),l=!1},d(e){$(t,e)}}}function W(e){let t,a,l;function s(t){e[4](t,e[7])}let n={label:e[0][e[7]].label,placeholder:e[0][e[7]].label};return void 0!==e[0][e[7]].value&&(n.value=e[0][e[7]].value),t=new J({props:n}),A.push((()=>T(t,"value",s))),{c(){c(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){f(t,e,a),l=!0},p(l,s){e=l;const n={};1&s&&(n.label=e[0][e[7]].label),1&s&&(n.placeholder=e[0][e[7]].label),!a&&1&s&&(a=!0,n.value=e[0][e[7]].value,U((()=>a=!1))),t.$set(n)},i(e){l||(i(t.$$.fragment,e),l=!0)},o(e){m(t.$$.fragment,e),l=!1},d(e){$(t,e)}}}function X(e){let t,a,l,s;const n=[W,Q],r=[];function o(e,t){return"type"in e[0][e[7]]?1:0}return t=o(e),a=r[t]=n[t](e),{c(){a.c(),l=v()},l(e){a.l(e),l=v()},m(e,a){r[t].m(e,a),x(e,l,a),s=!0},p(e,s){let c=t;t=o(e),t===c?r[t].p(e,s):(j(),m(r[c],1,1,(()=>{r[c]=null})),O(),a=r[t],a?a.p(e,s):(a=r[t]=n[t](e),a.c()),i(a,1),a.m(l.parentNode,l))},i(e){s||(i(a),s=!0)},o(e){m(a),s=!1},d(e){r[t].d(e),e&&y(l)}}}function Y(e){let t;return{c(){t=I("Add")},l(e){t=P(e,"Add")},m(e,a){x(e,t,a)},d(e){e&&y(t)}}}function Z(e){let t,a,l,s,n,r,o;a=new D({});const p=[R,M],S=[];function N(e,t){return e[1]?0:1}return s=N(e),n=S[s]=p[s](e),{c(){t=h("div"),c(a.$$.fragment),l=d(),n.c(),r=v(),this.h()},l(e){t=g(e,"DIV",{class:!0});var s=b(t);u(a.$$.fragment,s),s.forEach(y),l=w(e),n.l(e),r=v(),this.h()},h(){k(t,"class","flex")},m(e,n){x(e,t,n),f(a,t,null),x(e,l,n),S[s].m(e,n),x(e,r,n),o=!0},p(e,t){let a=s;s=N(e),s===a?S[s].p(e,t):(j(),m(S[a],1,1,(()=>{S[a]=null})),O(),n=S[s],n?n.p(e,t):(n=S[s]=p[s](e),n.c()),i(n,1),n.m(r.parentNode,r))},i(e){o||(i(a.$$.fragment,e),i(n),o=!0)},o(e){m(a.$$.fragment,e),m(n),o=!1},d(e){e&&y(t),$(a),e&&y(l),S[s].d(e),e&&y(r)}}}function ee(e){let t,a;return t=new K({props:{$$slots:{default:[Z]},$$scope:{ctx:e}}}),{c(){c(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,l){f(t,e,l),a=!0},p(e,[a]){const l={};1031&a&&(l.$$scope={dirty:a,ctx:e}),t.$set(l)},i(e){a||(i(t.$$.fragment,e),a=!0)},o(e){m(t.$$.fragment,e),a=!1},d(e){$(t,e)}}}function te(e,n,r){let o=q.reduce(((e,n)=>(e[n.key]=((e,n)=>{for(var r in n||(n={}))a.call(n,r)&&s(e,r,n[r]);if(t)for(var r of t(n))l.call(n,r)&&s(e,r,n[r]);return e})({label:n.title,value:"status"===n.key?"Unverified":""},n),e)),{}),c=!1,u={roles:[],status:[{label:"Active",value:"Active"},{label:"Unverified",value:"Unverified"}]};return p((async()=>{await(async()=>{const e=await _("/api/datatable/roles");r(2,u.roles=e.rows.map((e=>e.name)),u)})(),r(1,c=!0)})),[o,c,u,async()=>{H.spinner.show();let e={firstName:o.firstName.value,lastName:o.lastName.value,email:o.email.value,extension:o.extension.value,password:"Ennis01",roles:o.roles.value};const t=await _({method:"POST",href:"/api/auth/signup",body:e}),{accessToken:a}=t,l=`Successfully added user "${o.firstName.value} ${o.lastName.value}".  Copy text below to have user verify account.<br><br>Please verify your account with the link below:<br><a href="http://localhost:3000/users/verify?accessToken=${a}">Verify</a>`;H.spinner.hide(),H.success.show(l)},function(t,a){e.$$.not_equal(o[a].value,t)&&(o[a].value=t,r(0,o))},function(t,a){e.$$.not_equal(o[a].value,t)&&(o[a].value=t,r(0,o))}]}export default class extends n{constructor(e){super(),r(this,e,te,ee,o,{})}}
