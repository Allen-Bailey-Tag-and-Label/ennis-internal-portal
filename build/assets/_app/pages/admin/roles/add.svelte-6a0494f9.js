import{S as s,i as t,s as e,j as a,m as n,o as r,v as o,r as l,w as c,L as f,e as m,k as $,c as u,a as i,d as p,n as h,b as d,f as g,D as b,E as x,K as k,B as w,u as j,H as v,I as y,J as B,t as S,g as I}from"../../../chunks/vendor-483ca6b6.js";import{s as O}from"../../../chunks/auth-c13ad024.js";import{B as D}from"../../../chunks/store-97111950.js";import{B as E}from"../../../chunks/Back-7e1bfb8e.js";import{m as A}from"../../../chunks/store-b327666d.js";import{I as q}from"../../../chunks/Input-ac9b94d3.js";import{S as F}from"../../../chunks/Section-69710e66.js";import"../../../chunks/store-a8f0f898.js";function H(s,t,e){const a=s.slice();return a[3]=t[e],a[4]=t,a[5]=e,a}function J(s){let t,e,m;function $(t){s[2](t,s[3])}let u={label:s[3],placeholder:s[3]};return void 0!==s[0][s[3]]&&(u.value=s[0][s[3]]),t=new q({props:u}),y.push((()=>B(t,"value",$))),{c(){a(t.$$.fragment)},l(s){n(t.$$.fragment,s)},m(s,e){r(t,s,e),m=!0},p(a,n){s=a;const r={};1&n&&(r.label=s[3]),1&n&&(r.placeholder=s[3]),!e&&1&n&&(e=!0,r.value=s[0][s[3]],f((()=>e=!1))),t.$set(r)},i(s){m||(o(t.$$.fragment,s),m=!0)},o(s){l(t.$$.fragment,s),m=!1},d(s){c(t,s)}}}function K(s){let t;return{c(){t=S("Add")},l(s){t=I(s,"Add")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function L(s){let t,e,f,y,B,S,I,O,A;e=new E({});let q=Object.keys(s[0]),F=[];for(let a=0;a<q.length;a+=1)F[a]=J(H(s,q,a));const L=s=>l(F[s],1,1,(()=>{F[s]=null}));return S=new D({props:{type:"submit",$$slots:{default:[K]},$$scope:{ctx:s}}}),{c(){t=m("div"),a(e.$$.fragment),f=$(),y=m("form");for(let s=0;s<F.length;s+=1)F[s].c();B=$(),a(S.$$.fragment),this.h()},l(s){t=u(s,"DIV",{class:!0});var a=i(t);n(e.$$.fragment,a),a.forEach(p),f=h(s),y=u(s,"FORM",{class:!0});var r=i(y);for(let t=0;t<F.length;t+=1)F[t].l(r);B=h(r),n(S.$$.fragment,r),r.forEach(p),this.h()},h(){d(t,"class","flex"),d(y,"class","flex flex-col mt-[24px] space-y-[16px] max-w-[500px] w-full mx-auto")},m(a,n){g(a,t,n),r(e,t,null),g(a,f,n),g(a,y,n);for(let s=0;s<F.length;s+=1)F[s].m(y,null);b(y,B),r(S,y,null),I=!0,O||(A=x(y,"submit",k(s[1])),O=!0)},p(s,t){if(1&t){let e;for(q=Object.keys(s[0]),e=0;e<q.length;e+=1){const a=H(s,q,e);F[e]?(F[e].p(a,t),o(F[e],1)):(F[e]=J(a),F[e].c(),o(F[e],1),F[e].m(y,B))}for(w(),e=q.length;e<F.length;e+=1)L(e);j()}const e={};64&t&&(e.$$scope={dirty:t,ctx:s}),S.$set(e)},i(s){if(!I){o(e.$$.fragment,s);for(let s=0;s<q.length;s+=1)o(F[s]);o(S.$$.fragment,s),I=!0}},o(s){l(e.$$.fragment,s),F=F.filter(Boolean);for(let t=0;t<F.length;t+=1)l(F[t]);l(S.$$.fragment,s),I=!1},d(s){s&&p(t),c(e),s&&p(f),s&&p(y),v(F,s),c(S),O=!1,A()}}}function M(s){let t,e;return t=new F({props:{$$slots:{default:[L]},$$scope:{ctx:s}}}),{c(){a(t.$$.fragment)},l(s){n(t.$$.fragment,s)},m(s,a){r(t,s,a),e=!0},p(s,[e]){const a={};65&e&&(a.$$scope={dirty:e,ctx:s}),t.$set(a)},i(s){e||(o(t.$$.fragment,s),e=!0)},o(s){l(t.$$.fragment,s),e=!1},d(s){c(t,s)}}}function P(s,t,e){let a={name:""};return[a,async()=>{A.spinner.show();const s=await O("/api/datatable/routes?name=Dashboard");await O({method:"POST",href:"/api/datatable/roles",body:{name:a.name,routes:s.rows}}),A.spinner.hide(),A.success.show(`Successfully added role "${a.name}"`)},function(t,n){s.$$.not_equal(a[n],t)&&(a[n]=t,e(0,a))}]}export default class extends s{constructor(s){super(),t(this,s,P,M,e,{})}}
