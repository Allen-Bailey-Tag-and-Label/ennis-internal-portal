import{S as e,i as t,s,j as a,m as n,o as r,v as o,r as l,w as c,L as f,e as u,k as m,c as $,a as p,d as i,n as h,b as d,f as g,D as b,E as x,K as k,B as j,u as w,H as v,I as y,J as B,t as I,g as S}from"../../../chunks/vendor-483ca6b6.js";import{s as E}from"../../../chunks/auth-c13ad024.js";import{B as O}from"../../../chunks/store-97111950.js";import{B as A}from"../../../chunks/Back-7e1bfb8e.js";import{m as D}from"../../../chunks/store-b327666d.js";import{I as q}from"../../../chunks/Input-ac9b94d3.js";import{S as F}from"../../../chunks/Section-69710e66.js";import"../../../chunks/store-a8f0f898.js";function H(e,t,s){const a=e.slice();return a[3]=t[s],a[4]=t,a[5]=s,a}function J(e){let t,s,u;function m(t){e[2](t,e[3])}let $={label:e[3],placeholder:e[3]};return void 0!==e[0][e[3]]&&($.value=e[0][e[3]]),t=new q({props:$}),y.push((()=>B(t,"value",m))),{c(){a(t.$$.fragment)},l(e){n(t.$$.fragment,e)},m(e,s){r(t,e,s),u=!0},p(a,n){e=a;const r={};1&n&&(r.label=e[3]),1&n&&(r.placeholder=e[3]),!s&&1&n&&(s=!0,r.value=e[0][e[3]],f((()=>s=!1))),t.$set(r)},i(e){u||(o(t.$$.fragment,e),u=!0)},o(e){l(t.$$.fragment,e),u=!1},d(e){c(t,e)}}}function K(e){let t;return{c(){t=I("Add")},l(e){t=S(e,"Add")},m(e,s){g(e,t,s)},d(e){e&&i(t)}}}function L(e){let t,s,f,y,B,I,S,E,D;s=new A({});let q=Object.keys(e[0]),F=[];for(let a=0;a<q.length;a+=1)F[a]=J(H(e,q,a));const L=e=>l(F[e],1,1,(()=>{F[e]=null}));return I=new O({props:{type:"submit",$$slots:{default:[K]},$$scope:{ctx:e}}}),{c(){t=u("div"),a(s.$$.fragment),f=m(),y=u("form");for(let e=0;e<F.length;e+=1)F[e].c();B=m(),a(I.$$.fragment),this.h()},l(e){t=$(e,"DIV",{class:!0});var a=p(t);n(s.$$.fragment,a),a.forEach(i),f=h(e),y=$(e,"FORM",{class:!0});var r=p(y);for(let t=0;t<F.length;t+=1)F[t].l(r);B=h(r),n(I.$$.fragment,r),r.forEach(i),this.h()},h(){d(t,"class","flex"),d(y,"class","flex flex-col mt-[24px] space-y-[16px] max-w-[500px] w-full mx-auto")},m(a,n){g(a,t,n),r(s,t,null),g(a,f,n),g(a,y,n);for(let e=0;e<F.length;e+=1)F[e].m(y,null);b(y,B),r(I,y,null),S=!0,E||(D=x(y,"submit",k(e[1])),E=!0)},p(e,t){if(1&t){let s;for(q=Object.keys(e[0]),s=0;s<q.length;s+=1){const a=H(e,q,s);F[s]?(F[s].p(a,t),o(F[s],1)):(F[s]=J(a),F[s].c(),o(F[s],1),F[s].m(y,B))}for(j(),s=q.length;s<F.length;s+=1)L(s);w()}const s={};64&t&&(s.$$scope={dirty:t,ctx:e}),I.$set(s)},i(e){if(!S){o(s.$$.fragment,e);for(let e=0;e<q.length;e+=1)o(F[e]);o(I.$$.fragment,e),S=!0}},o(e){l(s.$$.fragment,e),F=F.filter(Boolean);for(let t=0;t<F.length;t+=1)l(F[t]);l(I.$$.fragment,e),S=!1},d(e){e&&i(t),c(s),e&&i(f),e&&i(y),v(F,e),c(I),E=!1,D()}}}function M(e){let t,s;return t=new F({props:{$$slots:{default:[L]},$$scope:{ctx:e}}}),{c(){a(t.$$.fragment)},l(e){n(t.$$.fragment,e)},m(e,a){r(t,e,a),s=!0},p(e,[s]){const a={};65&s&&(a.$$scope={dirty:s,ctx:e}),t.$set(a)},i(e){s||(o(t.$$.fragment,e),s=!0)},o(e){l(t.$$.fragment,e),s=!1},d(e){c(t,e)}}}function R(e,t,s){let a={group:"",name:"",href:""};return[a,async()=>{D.spinner.show();const e={name:a.name,href:a.href};""!==a.group&&(e.group=a.group),await E({method:"post",href:"/api/datatable/routes",body:e}),D.spinner.hide(),D.success.show(`Successfully added route "${a.name}"`)},function(t,n){e.$$.not_equal(a[n],t)&&(a[n]=t,s(0,a))}]}export default class extends e{constructor(e){super(),t(this,e,R,M,s,{})}}
